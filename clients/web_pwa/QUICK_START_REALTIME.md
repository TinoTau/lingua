# 实时流式翻译快速启动指南

## 快速开始

### 1. 启动所有服务

```bash
# 在项目根目录下
.\start_all_services_with_speaker.ps1
```

这会启动所有必要的服务，包括：
- Speaker Embedding (端口 5003)
- YourTTS (端口 5004)
- NMT (端口 5008)
- CoreEngine (端口 9000)
- Web Frontend (端口 8080)

### 2. 访问实时流式页面

在浏览器中打开：
```
http://localhost:8080/index_realtime.html
```

### 3. 开始测试

1. 点击"开始实时录音"按钮
2. 允许浏览器访问麦克风
3. 开始说话，系统会实时识别和翻译
4. 查看实时更新的转录和翻译结果

## 测试 ASR 停顿识别和文本识别

实时流式模式会：
- **实时检测停顿**：VAD 会实时检测语音边界
- **实时识别文本**：ASR 会在检测到停顿时进行识别
- **实时翻译**：识别结果会实时翻译
- **实时播放**：翻译结果会实时合成语音并播放

## 调试信息

页面底部的"调试日志"区域会显示：
- WebSocket 连接状态
- 音频帧发送情况
- 识别和翻译结果
- 错误信息（如果有）

## 注意事项

1. **首次使用**：浏览器会请求麦克风权限，请点击"允许"
2. **环境要求**：建议在安静的环境中使用，以获得更好的识别效果
3. **网络延迟**：实时处理会有一定的延迟（通常 1-3 秒）
4. **服务状态**：确保所有服务都正常运行，特别是 CoreEngine（端口 9000）

## 故障排除

### 无法连接 WebSocket

- 检查 CoreEngine 是否运行（端口 9000）
- 查看浏览器控制台的错误信息
- 检查防火墙设置

### 没有识别结果

- 检查麦克风是否正常工作
- 查看服务器日志（CoreEngine 窗口）
- 检查 VAD 是否检测到语音（查看日志中的 `[SileroVad]` 信息）

### 识别结果不准确

- 确保在安静的环境中使用
- 说话清晰，语速适中
- 检查源语言设置是否正确

